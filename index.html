<!DOCTYPE html>
<!-- The Gauntlet 
       by Ducky 
        V1.02c
      
      Built With:
       Clara.io - www.Clara.io
       Sublime Text - www.sublimetext.com
       
      Thanks:
       Brian
       Everyone who fell to their death over and over in the name of testing
-->

<html class="a-fullscreen">
  <head>

    <meta charset="utf-8">
    <title>The Gauntlet</title>
    <meta name="The Gauntlet" content="The Gauntlet">
    <meta property="og:title" content="The Gauntlet">
    <meta property="og:description" content="The Gauntlet">
    <meta property="og:image" content="welcome.jpg">

    <!-- Java Script Loads -->

    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script type="text/javascript">
      AFRAME.registerComponent('scream-handler', {
    init: function() {
        this.el.addEventListener('scream-play', ()=>{
            if(this.el.object3D.userData.isLocalPlayer) {
              var audio = new Audio('scream.wav');
              audio.volume = 1;
              audio.play();
            }else if(this.el.object3D.userData.other){
              var audio = new Audio('scream.wav');
              audio.volume = 0.3;
              audio.play();
            }
        });
        }
        });

    </script>
    
  </head>
  <body>

    <!-- Aframe Script -->

    <!-- Start Scene -->
 
    <a-scene sq-spawnpoint="position: 0 0 0;">
 
      <!-- Asset Loading -->

      <!--a-assets>

        <a-asset-item id="base-gltf" src="base.gltf"></a-asset-item>
        <a-asset-item id="bc-gltf" src="bc.gltf"></a-asset-item>
        <a-asset-item id="bl-gltf" src="bl.gltf"></a-asset-item>
        <a-asset-item id="br-gltf" src="br.gltf"></a-asset-item>
        <a-asset-item id="axe-gltf" src="axe.gltf"></a-asset-item>
        <a-asset-item id="blade-gltf" src="blade.gltf"></a-asset-item>
        <a-asset-item id="bat-gltf" src="bat.gltf"></a-asset-item>
        <a-asset-item id="red-gltf" src="red.gltf"></a-asset-item>
        <a-asset-item id="black-gltf" src="black.gltf"></a-asset-item-->
      
        <!-- Image Assets --> 

        <!--img id="sky" src="sky1.jpg">
        <img id="bm" src="bm.1024x1024.jpg">

      </a-assets-->      
      
       <!-- Starting Entity Tag To Contain The Gauntlet-->

      <a-entity id="scene" position="0 0 -45" rotation="0 0 0">

       <!-- Adding Sounds -->

       <a-entity id="screamsound" position="0 0 0" autoplay="false" loop="false" volume="1" src="scream.wav"></a-entity>
       <a-entity id="batsound" position="-10 4 0" autoplay="false" loop="false" volume="1" src="bat.wav"></a-entity>
       <a-entity id="swordsound" position="10.5 4 0" autoplay="false" loop="false" volume="1" src="sword.wav"></a-entity>
       <a-entity id="winsound" position="16 4 0" autoplay="false" loop="false" volume="1" src="win.wav"></a-entity>

       <!-- Adding The Base gltf For The Course -->

       <a-entity scale="3 3 3" gltf-model="base.gltf" position="0 0 0" sq-nonconvexcollider="recursive: true"></a-entity>

       <!-- Adding The Sign -->
       
       <!--a-entity position="0 4 0" rotation="0 0 0" scale="3 3 3" gltf-model="red.gltf" animation="property: material.color; dur: 2000; easing: linear; delay: 2000; dir: alternate; loop: true; from: 0 4 -0.2; to: 0 4 0.2;"></a-entity-->

       <a-entity scale="3 3 3" gltf-model="black.gltf" color="red" position="0 3.9 0" rotation="0 0 0"></a-entity>

       
       <!-- Adding The False Floor Tiles  -->

       <a-entity id="bl" scale="3 3 3" gltf-model="bl.gltf" position="0 3 0" rotation="0 0 0" animation="property: rotation; dur: 1600; easing: linear; loop: true; from: 0 0 0; to: 180 0 0;" sq-nonconvexcollider="recursive: true"></a-entity>
       <a-entity id="bc" scale="3 3 3" gltf-model="bc.gltf" position="0 3 0" rotation="0 0 0" animation="property: rotation; dur: 1400; easing: linear; loop: true; from: 0 0 0; to: 180 0 0;" sq-nonconvexcollider="recursive: true"></a-entity>
       <a-entity id="br" scale="3 3 3" gltf-model="br.gltf" position="0 3 0" rotation="0 0 0" animation="property: rotation; dur: 1200; easing: linear; loop: true; from: 0 0 0; to: 180 0 0;" sq-nonconvexcollider="recursive: true"></a-entity>

       <!-- Adding The Blades -->

       <a-entity id="axe1" scale="3 3 3" gltf-model="axe.gltf" position="6 8 0" rotation="0 0 0" animation="property: rotation; dur: 1600; easing: linear; loop: true; from: 0 0 0; to: 360 0 0;" sq-nonconvexcollider="recursive: true"></a-entity>
       <a-entity id="blade1" scale="3 3 3" gltf-model="blade.gltf" position="7.5 8 0" rotation="0 0 0" animation="property: rotation; dur: 1800; easing: linear; loop: true; from: 0 0 0; to: 360 0 0;" sq-nonconvexcollider="recursive: true"></a-entity>
       <a-entity id="axe1" scale="3 3 3" gltf-model="axe.gltf" position="9 8 0" rotation="0 0 0" animation="property: rotation; dur: 1200; easing: linear; loop: true; from: 0 0 0; to: 360 0 0;" sq-nonconvexcollider="recursive: true"></a-entity>
       <a-entity id="blade1" scale="3 3 3" gltf-model="blade.gltf" position="10.5 8 0" rotation="0 0 0" animation="property: rotation; dur: 1500; easing: linear; loop: true; from: 0 0 0; to: 360 0 0;" sq-nonconvexcollider="recursive: true"></a-entity>
       <a-entity id="axe1" scale="3 3 3" gltf-model="axe.gltf" position="12 8 0" rotation="0 0 0" animation="property: rotation; dur: 1000; easing: linear; loop: true; from: 0 0 0; to: 360 0 0;" sq-nonconvexcollider="recursive: true"></a-entity>
       <a-entity id="blade1" scale="3 3 3" gltf-model="axe.gltf" position="13.5 8 0" rotation="0 0 0" animation="property: rotation; dur: 1300; easing: linear; loop: true; from: 0 0 0; to: 360 0 0;" sq-nonconvexcollider="recursive: true"></a-entity>
       <a-entity id="axe1" scale="3 3 3" gltf-model="axe.gltf" position="15 8 0" rotation="0 0 0" animation="property: rotation; dur: 1100; easing: linear; loop: true; from: 0 0 0; to: 360 0 0;" sq-nonconvexcollider="recursive: true"></a-entity>

       <!-- Adding the Bats -->

       <a-entity id="bat1" scale="3 3 3" gltf-model="bat.gltf" position="-12 0 0" rotation="0 0 0" animation="property: rotation; dur: 2600; easing: linear; loop: true; from: 0 0 0; to: 0 360 0;" sq-nonconvexcollider="recursive: true"></a-entity>
       <a-entity id="bat1" scale="3 3 3" gltf-model="bat.gltf" position="-10 0 0" rotation="0 0 0" animation="property: rotation; dur: 2300; easing: linear; loop: true; from: 0 0 0; to: 0 360 0;" sq-nonconvexcollider="recursive: true"></a-entity>
       <a-entity id="bat1" scale="3 3 3" gltf-model="bat.gltf" position="-8 0 0" rotation="0 0 0" animation="property: rotation; dur: 2000; easing: linear; loop: true; from: 0 0 0; to: 0 360 0;" sq-nonconvexcollider="recursive: true"></a-entity>

       <!-- Adding The Containers To Trigger The Sound Effects -->

       <a-entity id="fall" position="0 0 0" sq-boxcollider="size: 30 3.5 15" sq-triggercollider scream-handler></a-entity>

       <a-entity id="sword1" position="13 4 0"></a-entity>
       <a-entity id="sword2" position="10 4 0"></a-entity>
       <a-entity id="sword3" position="7 4 0"></a-entity>

       <a-entity id="bat1" position="-7 4 0"></a-entity>
       <a-entity id="bat2" position="-10 4 0"></a-entity>
       <a-entity id="bat2" position="-13 4 0"></a-entity>

     <!--End Of The Gauntlet Course Entity -->  
            
     </a-entity>

     <!-- Adding The Sky Sphere -->

      <a-sphere id="moon" position="10 0 -300" src="moon.jpg"  position="0 0 0" radius="80" segments-width="16" segments-height="16" sq-nonconvexcollider="recursive: true"></a-sphere>
      
      <a-sphere radius="400" rotation="0 90 0" src='sky1.jpg' material="repeat: 15 15; side: back" segments-width="16" segments-height="16"></a-sphere>

    </a-scene>
  </body>
</html>